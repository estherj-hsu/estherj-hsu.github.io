$c-primary: #227093
$c-secodary: #2f8dbd
$c-body: #3e4a59
$c-dark: #1e2936
$c-muted: #677388
$c-purple: #7d3fa1
$c-bg: #fafafa
$c-list: $c-body, $c-body, $c-purple, $c-purple, $c-primary

html, body
  font-size: 16px
  background-color: $c-bg
  color: $c-dark
  line-height: 1.5
  font-family: Rubik, "Noto Sans TC", Arial, "Helvetica Neue", Helvetica
  margin: 0
  height: 100%

body
  display: flex
  flex-direction: column

::selection
  background-color: rgba($c-secodary, .1)
  color: $c-secodary

main, header
  width: 100%
  max-width: 960px
  margin-left: auto
  margin-right: auto

header, footer
  padding: 2rem 0

header
  display: flex
  justify-content: space-between
  align-items: flex-end

.nav
  margin: 0
  ul
    list-style: none
    gap: 1rem
    display: flex
    flex-flow: row wrap
    justify-content: center
    padding: 0
    margin: 0
  li
    position: relative
    color: $c-primary
    padding: 0.5rem
    &:hover
      color: $c-secodary
      .icon
        transform: scale(1.15)
  a
    line-height: 1
    display: flex
    &::after
      content: ""
      position: absolute
      width: 100%
      height: 100%
      top: 0
      left: 0
    &[aria-current="page"]
      color: $c-dark

footer
  text-align: center
  p
    color: $c-muted
  .footer-separator
    margin: 0 0.5rem

a
  color: $c-primary
  &:hover
    color: $c-secodary
    text-decoration: none

.text-grey
  color: $c-muted
.text-body
  color: $c-body !important
.text-primary
  color: $c-primary !important
.text-purple
  color: $c-purple !important

.visibility-hidden
  position: absolute !important
  height: 1px !important
  width: 1px !important
  overflow: hidden !important
  clip: rect(1px, 1px, 1px, 1px) !important

.logo
  width: 100%
  max-width: 420px

h1, h2, h3, h4, h5
  margin-top: 1lh
  margin-bottom: 0.25lh
  a
    color: $c-dark
    &:hover
      color: $c-muted
h1
  font-size: 3rem
  color: $c-primary
  text-align: center
  font-weight: 600
h2
  font-size: 2rem
  font-weight: 600
  hr ~ &
    text-align: center
    margin: 2rem 0 1.5rem
h3
  font-size: 1.5rem
  font-weight: 500
h4
  font-size: 1.25rem
  font-weight: 500
  a
    color: $c-primary
h5
  font-weight: 500
  font-size: 1.1rem
p, li
  color: $c-body
small
  transform: scale(.8)
  line-height: 1
blockquote
  background: #ffffff
  padding: 1rem 2rem .5rem
  margin: 3rem 2rem
  border-left: 6px solid $c-muted
  p
    color: $c-dark
    span
      color: $c-muted
      margin-top: 12px
      font-size: .9rem
      display: block
      text-align: right
code
  background-color: #fff
  padding: 3px 6px
  font-size: .8rem
  border-radius: 2px
  color: $c-muted
pre
  padding: 2rem
  background-color: #f5f5f5
  border-radius: 2px
  code
    background-color: inherit
    padding: initial
    font-size: inherit
    color: inherit
figure
  img
    width: 100%
p
  line-height: 1.4
  margin-top: 0.5lh
  margin-bottom: 0.25lh
  &:empty
    display: none
  &.subTitle
    color: $c-muted
    font-size: 0.975rem
    margin-top: 0.5rem
  & > strong
    font-weight: 600
    color: $c-dark
  & > em
    font-weight: 500
    font-style: normal
    background-color: rgba(254, 202, 87, .2)
    padding: 2px 4px
  img
    margin: 0 auto 20px
    max-width: 80%
    display: block
  & ~ p
    margin-bottom: 16px
time
  margin-left: 4px
li
  padding-bottom: 2px
  & > strong
    color: $c-dark
    font-weight: 500
    padding: 0 2px
    border-bottom: 2px $c-secodary solid
  & > em
    font-weight: 500
    font-style: normal
    background-color: rgba(254, 202, 87, .2)
    padding: 2px 4px
  p
    margin-bottom: 4px
  ul
    margin-bottom: 1rem

a
  text-decoration-style: underline
  text-decoration-thickness: 0.1em
  text-underline-offset: 0.15em

.task-list
  list-style: none
  label
    margin-bottom: 0
  input
    margin-right: 6px

table
  th
    font-weight: bolder
    text-align: center
    background-color: #f5f5f5
    padding: 6px 12px
  td
    border-bottom: 1px solid $c-muted
    padding: 4px 12px
    font-size: .95rem

.callout
  font-weight: 500
  text-align: center
  font-size: 1.2rem
  padding: 3rem 0
  color: $c-primary

.landing
  display: flex
  flex-direction: column
  align-items: center
  justify-content: center
  min-height: calc(100vh - 100px)
  .nav
    margin: 2rem 0
    li
      display: flex
      flex-direction: column
      align-items: center
      gap: 0.5rem
    span
      display: block
      font-size: 14px
      line-height: 100%
      color: $c-muted

.icon
  display: inline-flex
  width: 48px
  height: 48px
  background-color: currentColor
  -webkit-mask-image: var(--icon-url)
  mask-image: var(--icon-url)
  -webkit-mask-size: contain
  mask-size: contain
  -webkit-mask-repeat: no-repeat
  mask-repeat: no-repeat
  -webkit-mask-position: center
  mask-position: center
  transition: transform .3s cubic-bezier(0.4, 0, 0.2, 1)
  header &
    width: 32px
    height: 32px

.goal
  padding: 2px 6px
  background-color: $c-purple
  color: #fff

.slogan
  margin-top: 1rem

.post
  margin: 5rem 0
  display: flex
  flex-direction: column
  gap: 1rem
  &:not(:last-child)
    &::after
      content: ''
      display: block
      width: 30%
      height: 1px
      background: #c8d6e5
      margin: 5rem auto 0
.meta
  font-size: .8rem
  color: $c-muted

.meta-separator
  margin: 0 0.75rem

.metadata-wrapper
  text-align: center
  margin: 1rem 0 3rem

.pagination-wrapper
  text-align: center
  margin-bottom: 3rem
  a
    display: inline-block
  .pagination-next
    margin-left: 0.75rem

.tag
  padding: 2px 6px
  color: inherit
  &:hover
    color: $c-body
    text-decoration: none

h2[id^="esther"]
  display: none
  & ~ p:not(:empty),
  & ~ ul,
  & ~ ol
    margin-left: 1rem
    margin-bottom: 1rem
    padding: .5rem 2rem
    position: relative
    border-left: 3px solid $c-primary
  & ~ ul,
  & ~ ol
    padding-left: 5rem
  & ~ p
    margin-bottom: 0 !important
    margin-top: 0 !important
  & + p
    margin-bottom: 0 !important
    margin-top: 0 !important
    &::before
      content: ''
      display: block
      text-align: center
      color: #fff
      font-weight: bold
      font-size: 1.3rem
      line-height: 32px
      left: -.9rem
      top: 0
      background-color: $c-primary
      background-image: url('/icons/icon-me.svg')
      background-size: cover
      background-position: center
      background-repeat: no-repeat
      border-radius: 4px
      position: absolute
      width: 32px
      height: 32px
h2:not([id^="esther"])
  & ~ p:not(:empty)
    margin-bottom: 1.5rem

hr
  margin: 5rem auto
  width: 30%
  & ~ p,
  & ~ ul,
  & ~ ol
    border: 0 !important
    margin-left: 0 !important
    padding: 0 0 .5rem !important
  & ~ ul,
  & ~ ol
    padding-left: 2rem !important
    &::before
      display: none

#timeline
  display: none

#experience,
#timeline
  & ~ p
    span
      margin-right: 16px
    span::before
      content: ''
      display: inline-block
      width: 16px
      height: 16px
      border-radius: 50%
      background-color: $c-primary
      vertical-align: text-top
      margin-right: 4px
    .study::before
      background-color: $c-purple
  & ~ ul
    margin: 10px auto
    li
      position: relative
      padding-left: 60px
      list-style-type: none
      color: $c-body
      font-size: .8rem
      line-height: 1.6
      span, strong
        font-size: 1rem
      &:not(:last-child)::before
        content: ''
        position: absolute
        background-color: #95a5a6
        opacity: .4
        height: 95%
        width: 3px
        display: block
        left: 42px
        top: 25px
      &:not(:last-child)
        margin-bottom: 30px
      strong
        border-bottom: 0
        color: $c-dark
      em
        font-weight: 500
      span
        text-align: right
        position: absolute
        left: -30px
        font-weight: bold
        color: $c-primary
        width: 80px
      &:last-child span
        color: $c-body
      .study
        color: $c-purple

.designProcess
  margin: 2rem auto 0
  display: flex
  flex-flow: row wrap
  width: 100%
  justify-content: center
  &-arrow
    padding-top: 8%
  &-step
    width: calc((960px - 80px * 2) / 3)
    text-align: center
    h3
      text-align: center
      border-radius: 50%
      background-color: #fff
      border-width: 10px
      border-style: solid
      width: 200px
      height: 200px
      font-size: 1.3rem
      display: flex
      flex-direction: column
      justify-content: center
      align-content: center
      box-shadow: 0 0 5px 1px
      margin: 0
      padding: 0
    p
      text-align: center
      margin-top: 1.5rem
      font-size: .9rem
      line-height: 1.3
  @for $i from 1 through 5
    div:nth-child(#{$i})
      color: nth($c-list, $i)
      border-color: nth($c-list, $i)
  &.for-4 &-step
    width: calc((960px - 80px * 3) / 4)
    h3
      width: 160px
      height: 160px
      font-size: 1.1rem
      border-width: 8px
  &.for-4 &-arrow
    padding-top: 6%

.playground,
.casestudies
  display: flex
  flex-flow: row wrap
  list-style: none
  margin: 0 !important
  padding: 0
  width: 100%
  justify-content: flex-between
  gap: 1.5rem
  li
    list-style-type: none
    font-size: 1.2rem
    color: $c-bg
    text-align: center
    font-weight: 400
    padding: 0 20px
    line-height: 1.25
  a
    box-sizing: border-box
    width: calc((960px - 16px * 4) / 5)
    height: 120px
    text-align: center
    border-radius: 4px
    display: flex
    flex-flow: row nowrap
    align-items: center
    justify-content: center
    position: relative
    text-decoration: none
    img
      width: 100%
    span
      font-size: .6rem
      position: absolute
      top: 6px
      left: 6px
      color: $c-purple
      line-height: 1.1
      background-color: #fff
      border-radius: 2px
  &.js > a
    background-color: $c-purple
  &.wiki > a
    background-color: $c-primary

.casestudies
  justify-content: center
  li
    padding: 0
  a
    width: calc((960px - 30px * 3) / 4)
    height: initial
    border: 6px solid $c-muted
    transition: border-color .3s cubic-bezier(0.4, 0, 0.2, 1)
    &:hover
      border-color: $c-purple
    span
      font-size: .7rem
      padding: 4px
      color: $c-muted

.case
  background-color: #fff
  padding: 1rem
  border-radius: 2px
  box-shadow: 0 0 10px 1px rgba(0,0,0,.1)
  margin: 1rem 0 2rem

.cards
  display: grid
  gap: 2rem
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr))
  margin-top: 2rem
  .card
    display: flex
    flex-direction: column
    align-items: flex-start
    h3
      margin-bottom: 0
      margin-top: 0.5em
      color: $c-muted
    p
      color: $c-body
      margin-top: 0.5em
    img
      width: calc(100% - 16px)
      border-radius: 24px
      border: 8px solid $c-muted
      &:hover
        border-color: $c-purple
    .card-links
      display: flex
      gap: 1rem
      list-style: none
      margin: 0
      padding: 0

@media screen and (max-width: 960px)
  body
    padding: 24px 36px
  .playground a
    width: calc((100vw - 60px * 2) / 3)
  .logo
    &::before
      content: "J"
      position: absolute
      display: block
      font-size: 3rem
      font-weight: bold
      top: -36px
      color: #fff
      background-color: $c-primary
      opacity: .6
      border-radius: 2px
      padding: 6px 16px
      line-height: 1
    &:hover
      &::before
        opacity: 1
    img
      display: none

@media screen and (max-width: 400px)
  body
    padding: 24px
    font-size: 14px
  h1, h2, h3, h4
    text-align: center
  .playground a
    width: calc((100vw - 72px) / 2)