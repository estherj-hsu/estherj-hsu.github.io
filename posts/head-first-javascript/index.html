<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Esther" />
	
	
	
	<title>Head First JavaScript ｜ Esther&#39;s Life</title>
	
    
    
    <meta name="description" content="Read note From &amp;ldquo;Head First JavaScript Programming&amp;rdquo;
esther 練習code Github 需補強：控制DOM、實際應用
閱讀中，You don&amp;rsquo;t know JS系列：
 You don&amp;rsquo;t know JS: UP &amp;amp; GOING (done) You don&amp;rsquo;t know JS: SCOPE &amp;amp; CLOSURE " />
    

    
    
    <meta name="keywords" content="" />
    

	

    <link rel="shortcut icon" href="/images/favicon.ico" />

    <link rel="stylesheet" type="text/css" media="screen" href="/css/normalize.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="/css/zozo.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="/css/highlight.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="/css/esther.css" />

    
    
</head>

<body>
    <div class="main animate__animated animate__fadeInDown">
        <div class="nav_container animated fadeInDown">
    <div class="site_nav" id="site_nav">
        <ul>
            
            <li>
                <a href="/esther/">Esther</a>
            </li>
            
            <li>
                <a href="/portfolio/">Portfolio</a>
            </li>
            
            <li>
                <a href="/posts/">Archives</a>
            </li>
            
            <li>
                <a href="/playground/">Playground</a>
            </li>
            
        </ul>
    </div>
    <div class="menu_icon">
        <a id="menu_icon"><i class="ri-menu-line"></i></a>
    </div>
</div>
        <div class="header animated fadeInDown">
    <div class="site_title_container">
        <div class="site_title">
            <h1>
                <a href="/">
                    <img width="160px" src="/img/esther.png">
                </a>
            </h1>
        </div>
        <div class="description">
            <p class="sub_title">As a front end newbie...</p>
            <div class="my_socials">
                
                
                
                
                <a href="https://github.com/estherj-hsu" title="github" target="_blank"><i class="ri-github-fill"></i></a>
                
                
                
                
                
                
                
                
                <a href="/index.xml" type="application/rss+xml" title="rss" target="_blank"><i
                        class="ri-rss-fill"></i></a>
            </div>
        </div>
    </div>
</div>
        <div class="content">
            <div class="post_page">
                <div class="post animate__animated animate__fadeInDown">
                    <div class="post_title post_detail_title">
                        <h2><a href='/posts/head-first-javascript/'>Head First JavaScript</a></h2>
                        <span class="date">2016.06.17</span>
                    </div>
                    <div class="post_content markdown"><h2 id="read-note">Read note</h2>
<p>From &ldquo;Head First JavaScript Programming&rdquo;</p>
<h3 id="esther">esther</h3>
<p><a href="https://github.com/estherj-hsu/js-sandbox/blob/master/HeadFirstJS/">練習code Github</a>
需補強：控制DOM、實際應用<br>
閱讀中，You don&rsquo;t know JS系列：</p>
<ol>
<li>You don&rsquo;t know JS: UP &amp; GOING (done)</li>
<li>You don&rsquo;t know JS: SCOPE &amp; CLOSURE</li>
</ol>
<h2 id="ch6-dom">Ch6. DOM</h2>
<h3 id="html">HTML</h3>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="c1">// set the element as var
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">planet</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;greenplanet&#34;</span><span class="p">);</span>

<span class="c1">// change HTML content
</span><span class="c1"></span><span class="nx">planet</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&#34;Red Alert: hit by phaser fire!&#34;</span><span class="p">;</span>

<span class="c1">// set html attribute
</span><span class="c1"></span><span class="nx">planet</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&#34;style&#34;</span><span class="p">,</span> <span class="s2">&#34;font-size: 13px&#34;</span><span class="p">);</span>

<span class="c1">// get html attribute by ID first, then get attribute value
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">getBlue</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;blueplanet&#34;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">blueTitle</span> <span class="o">=</span> <span class="nx">getBlue</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&#34;title&#34;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">blueTitle</span><span class="p">);</span>
</code></pre></div><h3 id="windowonload">window.onload</h3>
<p>頁面完全載入後才執行JS</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript">  <span class="kd">function</span> <span class="nx">init</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">planet</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;greenplanet&#34;</span><span class="p">);</span>
    <span class="nx">planet</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&#34;Red Alert: hit by phaser fire!&#34;</span><span class="p">;</span>
    <span class="nx">planet</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&#34;class&#34;</span><span class="p">,</span> <span class="s2">&#34;redtext&#34;</span><span class="p">);</span>
<span class="p">}</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="nx">init</span><span class="p">;</span>
</code></pre></div><h2 id="ch7-data-type">Ch7. Data Type</h2>
<h3 id="字串方法屬性">字串方法&amp;屬性</h3>
<h4 id="tolowercase-字串小寫--touppercase-字串大寫"><strong>toLowerCase</strong> (字串小寫) &amp; <strong>toUpperCase</strong> (字串大寫)</h4>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">uptxt</span> <span class="o">=</span> <span class="s2">&#34;UPPER CASE&#34;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">lowtxt</span> <span class="o">=</span> <span class="s2">&#34;lower case&#34;</span><span class="p">;</span>

<span class="c1">// 字串小寫
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">uptxt</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>

<span class="c1">// 字串大寫
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">lowtxt</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>
</code></pre></div><h4 id="substring子字串--split-字串分割"><strong>substring</strong>(子字串) &amp; <strong>split</strong> (字串分割)</h4>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="s2">&#34;name|phone|address&#34;</span><span class="p">;</span>

<span class="c1">// 取得位於5-10字元中的子字串
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>

<span class="c1">// 取得第五字元後子字串
</span><span class="c1"></span><span class="nx">val</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>

<span class="c1">// 以|作為分隔符，分割字串內容
</span><span class="c1"></span><span class="nx">val</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&#34;|&#34;</span><span class="p">);</span>
</code></pre></div><h4 id="length-取得長度--charat-取得特定字符"><strong>length</strong> (取得長度) &amp; <strong>charAt</strong> (取得特定字符)</h4>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">input</span> <span class="o">=</span> <span class="s2">&#34;jenny@wickedlysmart.com&#34;</span><span class="p">;</span>

<span class="c1">//取得字串長度
</span><span class="c1"></span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// 取得特定字符 @
</span><span class="c1"></span>  <span class="k">if</span> <span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&#34;@&#34;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;There&#39;s an @ sign at index &#34;</span> <span class="o">+</span> <span class="nx">i</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><h4 id="indexof--lastindexof-取得字串初次最後出現位置引數"><strong>indexOf</strong> / <strong>lastIndexOf</strong> (取得字串初次/最後出現位置引數)</h4>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">phrase</span> <span class="o">=</span> <span class="s2">&#34;the cat in the hat&#34;</span><span class="p">;</span>

<span class="c1">// 取得字串中cat初次出現位置
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">phrase</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&#34;cat&#34;</span><span class="p">);</span>

<span class="c1">// 由字串第五字元後開始，取得the位置
</span><span class="c1"></span><span class="nx">index</span> <span class="o">=</span> <span class="nx">phrase</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&#34;the&#34;</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>

<span class="c1">// 若無法取得引數則顯示-1
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">phrase</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&#34;dog&#34;</span><span class="p">);</span>

<span class="c1">// 取得字串中the最後出現位置
</span><span class="c1"></span><span class="nx">index</span> <span class="o">=</span> <span class="nx">phrase</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&#34;the&#34;</span><span class="p">);</span>
</code></pre></div><h2 id="ch8-building-an-app">Ch8. Building an app</h2>
<p><a href="https://github.com/estherj-hsu/js-sandbox/blob/master/HeadFirstJS/src/js/battleShipApp.js">Battleship實作</a></p>
<h2 id="ch9-handling-events">Ch9. Handling events</h2>
<h3 id="events">Events</h3>
<ul>
<li>load / unload</li>
<li>click</li>
<li>resize</li>
<li>play / pause</li>
<li>dragstart / drop</li>
<li>touchstart / touchend</li>
<li>mouseover / mouseout / mousemove</li>
<li>keypress</li>
</ul>
<h4 id="load-瀏覽器載入">load 瀏覽器載入</h4>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="nx">init</span><span class="p">;</span>
</code></pre></div><h4 id="click-滑鼠點擊">click 滑鼠點擊</h4>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">init</span> <span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">images</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&#34;img&#34;</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">images</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">images</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">showAnswer</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">showAnswer</span> <span class="p">(</span><span class="nx">eventObj</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">image</span> <span class="o">=</span> <span class="nx">eventObj</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">image</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
  <span class="nx">name</span> <span class="o">=</span> <span class="s2">&#34;src/img/&#34;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s2">&#34;.jpg&#34;</span><span class="p">;</span>
  <span class="nx">image</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><h4 id="mousemove-滑鼠移動">mousemove 滑鼠移動</h4>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">init</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;map&#34;</span><span class="p">);</span>
  <span class="nx">map</span><span class="p">.</span><span class="nx">onmousemove</span> <span class="o">=</span> <span class="nx">showCoords</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">showCoords</span> <span class="p">(</span><span class="nx">eventObj</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;coords&#34;</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">eventObj</span><span class="p">.</span><span class="nx">pageX</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">eventObj</span><span class="p">.</span><span class="nx">pageY</span><span class="p">;</span>
  <span class="nx">map</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&#34;Map coordinates: &#34;</span> <span class="o">+</span> <span class="nx">x</span> <span class="o">+</span> <span class="s2">&#34;, &#34;</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><h3 id="random-numbers">Random numbers</h3>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="c1">// 0 -&gt; 10
</span><span class="c1"></span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">11</span><span class="p">);</span>

<span class="c1">// 1 -&gt; 10
</span><span class="c1"></span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>

<span class="c1">// 5 -&gt; 20
</span><span class="c1"></span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">16</span><span class="p">)</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span>

<span class="c1">// -10 -&gt; (-2)
</span><span class="c1"></span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">9</span><span class="p">)</span> <span class="o">-</span> <span class="mi">10</span><span class="p">;</span>
</code></pre></div><h2 id="ch10-liberated-functions">Ch10. Liberated functions</h2>
<ul>
<li>函式可賦予變數值</li>
<li>函式可傳遞給其他函式</li>
<li>函式可回傳其他函式</li>
</ul>
<h3 id="函式宣告">函式宣告</h3>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">quack</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">num</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;quack!&#34;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div><h3 id="函式運算式">函式運算式</h3>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">fly</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">num</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;Flying!&#34;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div><h3 id="陣列sort">陣列sort</h3>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">numberArray</span> <span class="o">=</span> <span class="p">[</span><span class="mi">60</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">53</span><span class="p">];</span>

<span class="kd">function</span> <span class="nx">compareNumbers</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">num1</span> <span class="o">&gt;</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">num1</span> <span class="o">==</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">numberArray</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">compareNumbers</span><span class="p">);</span>
</code></pre></div><h2 id="ch11-serious-functions">Ch11. Serious Functions</h2>
<h3 id="匿名函式">匿名函式</h3>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">alarm</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">alert</span><span class="p">(</span><span class="s2">&#34;Time is done!&#34;</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">setTimeout</span><span class="p">(</span><span class="nx">alarm</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">alert</span><span class="p">(</span><span class="s2">&#34;Time is done!&#34;</span><span class="p">);},</span> <span class="mi">1000</span><span class="p">);</span>
</code></pre></div><p>函式宣告建立的函式會較函式運算式<strong>優先定義</strong></p>
<h3 id="嵌套函式">嵌套函式</h3>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">setTimer</span><span class="p">(</span><span class="nx">doneMessage</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">doneMessage</span><span class="p">);</span>
  <span class="p">},</span> <span class="nx">n</span><span class="p">);</span>
  <span class="nx">doneMessage</span><span class="o">=</span> <span class="s2">&#34;OUCH!&#34;</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">setTimer</span><span class="p">(</span><span class="s2">&#34;Cookies are done!&#34;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</code></pre></div><h3 id="閉包">閉包</h3>
<p><strong>包含操作環境的函式</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">setTimer</span><span class="p">(</span><span class="nx">doneMessage</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">doneMessage</span><span class="p">);</span>
  <span class="p">},</span> <span class="nx">n</span><span class="p">);</span>
  <span class="nx">doneMessage</span><span class="o">=</span> <span class="s2">&#34;OUCH!&#34;</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">setTimer</span><span class="p">(</span><span class="s2">&#34;Cookies are done!&#34;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</code></pre></div><h4 id="範例">範例</h4>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;clickme&#34;</span><span class="p">);</span>
  <span class="nx">button</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">handleClick</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">handleClick</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="s2">&#34;You clicked me! &#34;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;message&#34;</span><span class="p">);</span>
  <span class="nx">count</span><span class="o">++</span><span class="p">;</span>
  <span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">message</span> <span class="o">+</span> <span class="nx">count</span> <span class="o">+</span> <span class="s2">&#34; times!&#34;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="s2">&#34;You clicked me! &#34;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;message&#34;</span><span class="p">);</span>

  <span class="kd">var</span> <span class="nx">button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;clickme&#34;</span><span class="p">);</span>
  <span class="nx">button</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">count</span><span class="o">++</span><span class="p">;</span>
    <span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">message</span> <span class="o">+</span> <span class="nx">count</span> <span class="o">+</span> <span class="s2">&#34; times!&#34;</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">};</span>
</code></pre></div><h2 id="ch12-creating-objects">Ch12. Creating objects</h2>
<h3 id="物件建構程序">物件建構程序</h3>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">Car</span><span class="p">(</span><span class="nx">make</span><span class="p">,</span> <span class="nx">model</span><span class="p">,</span> <span class="nx">year</span><span class="p">,</span> <span class="nx">color</span><span class="p">,</span> <span class="nx">passengers</span><span class="p">,</span> <span class="nx">converitble</span><span class="p">,</span> <span class="nx">mileage</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">make</span> <span class="o">=</span> <span class="nx">make</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="nx">model</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">year</span> <span class="o">=</span> <span class="nx">year</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="nx">color</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">passengers</span> <span class="o">=</span> <span class="nx">passengers</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">convertible</span> <span class="o">=</span> <span class="nx">convertible</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">mileage</span> <span class="o">=</span> <span class="nx">mileage</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">started</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">start</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">started</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">stop</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">started</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">drive</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">started</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">alert</span><span class="p">(</span><span class="s2">&#34;Zoom zoom!&#34;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">alert</span><span class="p">(</span><span class="s2">&#34;Start the engine first!&#34;</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">}</span>

<span class="c1">// 新增物件
</span><span class="c1"></span>  <span class="kd">var</span> <span class="nx">chevy</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Car</span><span class="p">(</span><span class="s2">&#34;Chevy&#34;</span><span class="p">,</span> <span class="s2">&#34;Bel Air&#34;</span><span class="p">,</span> <span class="mi">1957</span><span class="p">,</span> <span class="s2">&#34;red&#34;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="mi">1021</span><span class="p">);</span>
</code></pre></div><h3 id="改寫為物件字面">改寫為物件字面</h3>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">chevyParams</span> <span class="o">=</span> <span class="p">{</span><span class="nx">make</span><span class="o">:</span><span class="s2">&#34;Chevy&#34;</span><span class="p">,</span>
                   <span class="nx">model</span><span class="o">:</span> <span class="s2">&#34;Bel Air&#34;</span><span class="p">,</span>
                   <span class="nx">year</span><span class="o">:</span> <span class="mi">1957</span><span class="p">,</span>
                   <span class="nx">color</span><span class="o">:</span> <span class="s2">&#34;red&#34;</span><span class="p">,</span>
                   <span class="nx">passengers</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
                   <span class="nx">convertible</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
                   <span class="nx">mileage</span><span class="o">:</span> <span class="mi">1021</span><span class="p">};</span>

<span class="kd">var</span> <span class="nx">chevy</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Car</span><span class="p">(</span><span class="nx">chevyParams</span><span class="p">)</span>

<span class="kd">function</span> <span class="nx">Car</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">make</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">make</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">model</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">year</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">year</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">color</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">passengers</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">passengers</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">convertible</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">convertible</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">mileage</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">mileage</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">started</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">start</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">started</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">stop</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">started</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">drive</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">started</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">alert</span><span class="p">(</span><span class="s2">&#34;Zoom zoom!&#34;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">alert</span><span class="p">(</span><span class="s2">&#34;Start the engine first!&#34;</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">}</span>
</code></pre></div><h2 id="ch13-extra-strength-objects">Ch13. Extra strength objects</h2>
<p>新增prototype Dog</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">Dog</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">breed</span><span class="p">,</span> <span class="nx">weight</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">breed</span> <span class="o">=</span> <span class="nx">breed</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">weight</span> <span class="o">=</span> <span class="nx">weight</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><p>新增屬性給Dog，預設值為Canine</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">Dog</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">species</span> <span class="o">=</span> <span class="s2">&#34;Canine&#34;</span><span class="p">;</span>
</code></pre></div><p>新增function屬性</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">Dog</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bark</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">weight</span> <span class="o">&gt;</span> <span class="mi">25</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&#34; says WOOF!&#34;</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&#34; says YIP!&#34;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div><p>以prototype建立新物件</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">fido</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dog</span><span class="p">(</span><span class="s2">&#34;Fido&#34;</span><span class="p">,</span> <span class="s2">&#34;Mixed&#34;</span><span class="p">,</span> <span class="s2">&#34;38&#34;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">spot</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dog</span><span class="p">(</span><span class="s2">&#34;Spot&#34;</span><span class="p">,</span> <span class="s2">&#34;Poodle&#34;</span><span class="p">,</span> <span class="s2">&#34;10&#34;</span><span class="p">);</span>
</code></pre></div><p>自訂屬性</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">spot</span><span class="p">.</span><span class="nx">bark</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&#34; says WOOF!&#34;</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div><h3 id="繼承">繼承</h3>
<p>新增prototype(ShowDog)並繼承原有prototype(Dog)</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">ShowDog</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">breed</span><span class="p">,</span> <span class="nx">weight</span><span class="p">,</span> <span class="nx">handler</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Dog</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">breed</span><span class="p">,</span> <span class="nx">weight</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">handler</span> <span class="o">=</span> <span class="nx">handler</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">ShowDog</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dog</span><span class="p">();</span>
</code></pre></div></div>
                    <div class="post_footer">
                        
                        <div class="meta">
                            <div class="info">
                                <span class="field tags">
                                    <i class="ri-stack-line"></i>
                                    
                                    <a href="/tags/js/">JS</a>
                                    
                                </span>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
                
                <div class="doc_comments"></div>
                
            </div>
        </div>
    </div>
    <a id="back_to_top" href="#" class="back_to_top"><i class="ri-arrow-up-s-line"></i></a>
    <footer class="footer">
    <div class="powered_by">
        <a href="https://varkai.com">Designed by VarKai,</a>
        <a href="http://www.gohugo.io/">Proudly published with Hugo</a>
    </div>

    <div class="footer_slogan">
        <span>Life would be tragic if it weren&#39;t funny. 🍿</span>
    </div>
</footer>
    <script src="/js/jquery-3.5.1.min.js"></script>
<link href="/css/fancybox.min.css" rel="stylesheet">
<script src="/js/fancybox.min.js"></script>
<script src="/js/zozo.js"></script>




</body>

</html>